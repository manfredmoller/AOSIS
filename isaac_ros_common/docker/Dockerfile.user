ARG BASE_IMAGE
FROM ${BASE_IMAGE}

# Fix the GPG key error inside the build process
RUN apt-get update && apt-get install -y curl gnupg2 && \
    curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add -

# Install Vision, Diagnostics, and Control tools
# Note: RealSense SDK is already installed from the base realsense-image
RUN apt-get update && apt-get install -y \
    usbutils \
    nano \
    htop \
    python3-opencv \
    ros-humble-realsense2-camera \
    ros-humble-moveit \
    && rm -rf /var/lib/apt/lists/*
